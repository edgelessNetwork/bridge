// to push
// npx prisma db push 

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Client {
  id         String     @id @map("_id") // Primary name and document title, i.e. "Caldera"
  faviconUrl String?
  logo       Bytes
  wordmark   Bytes
  config     Json?
  colorOne   String
  colorTwo   String
  colorThree String
  colorFour  String
  colorFive  String
  colorSix   String
  colorSeven String
  colorEight String
  HostNames  HostName[] // Alternative subdomains
}

model HostName {
  id         String @id @default(auto()) @map("_id") @db.ObjectId
  host       String @unique // Either a string with no '.'s (representing a subdomain) or a full hostname (external domain)
  client     Client @relation(fields: [clientName], references: [id], onDelete: Cascade) // auto-delete associated HostNames if Client is deleted
  clientName String
}
